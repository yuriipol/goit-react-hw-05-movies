{"version":3,"file":"static/js/419.3820c70d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Page/Movies/Movies.module.css?34af","webpack://react-homework-template/./src/components/Page/Movies/Search/Search.module.css?aecf","components/Page/Movies/Search/Search.jsx","components/Page/Movies/Movies.jsx","components/Servises/MoviesAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"Movies_movieList__jr+X9\",\"item\":\"Movies_item__hi5rh\",\"buttonGoBack\":\"Movies_buttonGoBack__l+wfP\",\"loadMore\":\"Movies_loadMore__-E64O\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Search_form__DQDaf\",\"input\":\"Search_input__1CPuS\",\"button\":\"Search_button__Sg+OI\"};","import style from './Search.module.css';\n\nimport { useState } from 'react';\nimport { ImSearch } from 'react-icons/im';\nimport PropTypes from 'prop-types';\n\nfunction Search({ onSubmit }) {\n  const [nameMovie, setNameMovie] = useState('');\n\n  const hendleNameChange = event => {\n    setNameMovie(event.currentTarget.value.toLowerCase());\n  };\n\n  const hanedleSubmit = event => {\n    event.preventDefault();\n\n    if (nameMovie.trim() === '') {\n      alert('Input image name');\n      return;\n    }\n    onSubmit(nameMovie);\n\n    setNameMovie('');\n  };\n\n  return (\n    <form className={style.form} onSubmit={hanedleSubmit}>\n      <input\n        className={style.input}\n        type=\"text\"\n        name=\"nameMovie\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        value={nameMovie}\n        onChange={hendleNameChange}\n      />\n      <button type=\"submit\" className={style.button}>\n        <ImSearch /> Search\n      </button>\n    </form>\n  );\n}\nexport default Search;\n\nSearch.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import style from './Movies.module.css';\nimport { NavLink, useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport Search from './Search';\n\nimport { getSerchMovies } from '../../Servises/MoviesAPI';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [nameMovie, setNameMovie] = useSearchParams();\n  const query = nameMovie.get('query') ?? '';\n  const location = useLocation();\n\n  const onSubmit = nameMovie => {\n    setNameMovie({ query: nameMovie });\n    setPage(1);\n    setMovies([]);\n  };\n  const onClickLoadVore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        const data = await getSerchMovies(query, page).then(\n          data => data.results\n        );\n        setMovies(prevMovies => [...prevMovies, ...data]);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    if (query) {\n      fetchMovies();\n    }\n  }, [query, page]);\n\n  const moviesItem = movies.map(({ id, title, poster_path }) => (\n    <li key={id} className={style.item}>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        <img\n          className={style.image}\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/original${poster_path}`\n              : `https://static.vecteezy.com/system/resources/previews/003/393/235/original/error-404-with-the-cute-floppy-disk-mascot-free-vector.jpg`\n          }\n          alt={title}\n        />\n        {/* <div className={style.descr}>{title}</div> */}\n      </Link>\n    </li>\n  ));\n  return (\n    <>\n      {movies.length > 0 && (\n        <NavLink to=\"/\" className={style.buttonGoBack}>\n          Go back\n        </NavLink>\n      )}\n      <Search onSubmit={onSubmit} />\n\n      <ul className={style.movieList}>{moviesItem}</ul>\n      {movies.length > 0 && (\n        <button\n          type=\"button\"\n          className={style.loadMore}\n          onClick={onClickLoadVore}\n        >\n          Load more\n        </button>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '995e05884fd0ec30189499a041c3fca1',\n  },\n});\n\nexport const getTrendingMovies = async () => {\n  const { data } = await instance.get('/trending/movie/day', {\n    params: {},\n  });\n\n  return data;\n};\n\nexport const getSerchMovies = async (name, page) => {\n  const { data } = await instance.get('/search/movie', {\n    params: {\n      query: name,\n      page: page,\n    },\n  });\n  return data;\n};\n\nexport const getSerchDetailsMovie = async moviId => {\n  const { data } = await instance.get(`movie/${moviId}`, {\n    params: {\n      movie_id: moviId,\n    },\n  });\n  return data;\n};\nexport const getSerchDetailsMovieActors = async moviId => {\n  const { data } = await instance.get(`movie/${moviId}/credits`, {\n    params: {\n      movie_id: moviId,\n    },\n  });\n  return data;\n};\n\nexport const getSerchDetailsMovieReviews = async moviId => {\n  const { data } = await instance.get(`movie/${moviId}/reviews`, {\n    params: {\n      movie_id: moviId,\n    },\n  });\n  return data;\n};\n"],"names":["onSubmit","useState","nameMovie","setNameMovie","className","style","event","preventDefault","trim","alert","type","name","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","movies","setMovies","page","setPage","useSearchParams","query","get","location","useLocation","useEffect","fetchMovies","getSerchMovies","then","data","results","prevMovies","console","log","moviesItem","map","id","title","poster_path","to","state","from","src","alt","length","onClick","prevPage","instance","axios","baseURL","params","api_key","getTrendingMovies","getSerchDetailsMovie","moviId","movie_id","getSerchDetailsMovieActors","getSerchDetailsMovieReviews"],"sourceRoot":""}